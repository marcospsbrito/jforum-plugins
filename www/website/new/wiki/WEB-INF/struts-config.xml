<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<!--
     This is a blank Struts configuration file based on the example application,
     with commented examples of some items.

     NOTE: If you have a generator tool to create the corresponding Java classes
     for you, you could include the details in the "form-bean" declarations.  
     Otherwise, you would only define the "form-bean" element itself, with the 
     corresponding "name" and "type" attributes, as shown here.
-->


<struts-config>

  <!-- ========== Data Source Configuration =============================== -->
<!--
  <data-sources>
    <data-source
       autoCommit="false"
      description="Example Data Source Configuration"
      driverClass="org.postgresql.Driver"
         maxCount="4"
         minCount="2"
         password="mypassword"
              url="jdbc:postgresql://localhost/mydatabase"
             user="myusername"
    />
  </data-sources>
-->

  <!-- ========== Form Bean Definitions =================================== -->
  <form-beans>
  <!-- XWiki Struts Application -->
    <form-bean name="edit"
                 type="com.xpn.xwiki.web.PrepareEditForm"/>
    <form-bean name="inline"
                 type="com.xpn.xwiki.web.PrepareEditForm"/>
    <form-bean name="preview"
               type="com.xpn.xwiki.web.EditForm"/>
    <form-bean name="save"
                type="com.xpn.xwiki.web.EditForm"/>
    <form-bean name="rollback"
                  type="com.xpn.xwiki.web.RollbackForm"/>
    <form-bean name="cancel"
                type="com.xpn.xwiki.web.EditForm"/>
    <form-bean name="propupdate"
                  type="com.xpn.xwiki.web.EditForm"/>
    <form-bean name="propadd"
                    type="com.xpn.xwiki.web.PropAddForm"/>
    <form-bean name="objectadd"
                      type="com.xpn.xwiki.web.ObjectAddForm"/>
    <form-bean name="commentadd"
                      type="com.xpn.xwiki.web.ObjectAddForm"/>
    <form-bean name="objectremove"
                      type="com.xpn.xwiki.web.ObjectRemoveForm"/>
  </form-beans>

  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>

    <!-- Forward to view -->
     <forward
        name="start"
        path="/view/Main/WebHome"/>

     <forward name="login" path="/templates/login.vm"/>
     <forward name="accessdenied" path="/templates/accessdenied.vm"/>
     <forward name="userinactive" path="/templates/userinactive.vm"/>
  </global-forwards>


  <!-- ========== Action Mapping Definitions ============================== -->
  <action-mappings>

    <!-- XWiki Struts Application with Velocity --> 
    <action path="/xmlrpc/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="xmlrpc"
            scope="request">
    </action>
    <action path="/view/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="view"
            scope="request">
        <forward name="view" path="/templates/view.vm"/>
        <forward name="plain" path="/templates/plain.vm"/>
    </action>
    <action path="/pdf/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="pdf"
            scope="request">
    </action>
    <action path="/edit/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="edit"
            scope="request">
        <forward name="edit" path="/templates/edit.vm"/>
    </action>

    <action path="/inline/"
                  type="com.xpn.xwiki.web.ViewEditAction"
                  name="inline"
                  scope="request">
         <forward name="inline" path="/templates/inline.vm"/>
    </action>

    <action path="/preview/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="preview"
            scope="request">
        <forward name="preview" path="/templates/preview.vm"/>
    </action>

    <action path="/save/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="save"
            scope="request">
        <forward name="save" path="/templates/save.vm"/>
    </action>

      <action path="/rollback/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="rollback"
          scope="request">
          <forward name="edit" path="/templates/rollback.vm"/>
      </action>

    <action path="/cancel/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="cancel"
            scope="request">
        <forward name="cancel" path="/templates/cancel.vm"/>
    </action>

    <action path="/delete/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="delete"
            scope="request">
        <forward name="delete" path="/templates/delete.vm"/>
        <forward name="deleted" path="/templates/deleted.vm"/>
    </action>

    <action path="/register/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="register"
            scope="request">
        <forward name="register" path="/templates/register.vm"/>
    </action>

    <action path="/propupdate/"
              type="com.xpn.xwiki.web.ViewEditAction"
              name="propupdate"
              scope="request">
          <forward name="propupdate" path="/templates/edit.vm"/>
    </action>

    <action path="/propadd/"
                type="com.xpn.xwiki.web.ViewEditAction"
                name="propadd"
                scope="request">
            <forward name="propadd" path="/templates/edit.vm"/>
    </action>

      <action path="/propdelete/"
                  type="com.xpn.xwiki.web.ViewEditAction"
                  name="propdelete"
                  scope="request">
              <forward name="propdelete" path="/templates/edit.vm"/>
      </action>

      <action path="/objectadd/"
                  type="com.xpn.xwiki.web.ViewEditAction"
                  name="objectadd"
                  scope="request">
              <forward name="objectadd" path="/templates/edit.vm"/>
      </action>

      <action path="/commentadd/"
                        type="com.xpn.xwiki.web.ViewEditAction"
                        name="commentadd"
                        scope="request">
                    <forward name="commentadd" path="/templates/edit.vm"/>
      </action>

      <action path="/objectremove/"
                  type="com.xpn.xwiki.web.ViewEditAction"
                  name="objectremove"
                  scope="request">
              <forward name="objectremove" path="/templates/edit.vm"/>
      </action>

      <action path="/attach/"
                        type="com.xpn.xwiki.web.ViewEditAction"
                        name="attach"
                        scope="request">
               <forward name="attach" path="/templates/attach.vm"/>
      </action>

      <action path="/upload/"
                        type="com.xpn.xwiki.web.ViewEditAction"
                        name="upload"
                        scope="request">
               <forward name="upload" path="/templates/attach.vm"/>
      </action>

      <action path="/download/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="download"
          scope="request">
      </action>

      <action path="/dot/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="dot"
          scope="request">
      </action>

      <action path="/delattachment/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="delattachment"
          scope="request">
      </action>

      <action path="/skin/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="skin"
          scope="request">
      </action>

      <action path="/login/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="login"
          scope="request">
      </action>

      <action path="/loginerror/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="loginerror"
          scope="request">
      </action>

      <action path="/logout/"
          type="com.xpn.xwiki.web.ViewEditAction"
          name="logout"
          scope="request">
         <forward name="logout" path="/templates/logout.vm"/>
      </action>

      <action path="/status/"
              type="com.xpn.xwiki.web.ViewEditAction"
              name="status"
              scope="request">
          <forward name="status" path="/templates/status.vm"/>
      </action>

    <action path="/lifeblog/"
            type="com.xpn.xwiki.web.ViewEditAction"
            name="lifeblog"
            scope="request">
    </action>

  </action-mappings>

  <controller processorClass="com.xpn.xwiki.web.XWikiRequestProcessor"
        debug="0" contentType="text/html" />

</struts-config>
